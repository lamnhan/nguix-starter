<div class="host" *ngIf="authService">

  <div class="message margin-bottom" *ngIf="message">
    <div class="alert-danger" [innerHtml]="message"></div>
  </div>

  <div class="form" *ngIf="authService.methodAllowedForEmailPassword">

    <form
      [formGroup]="loginFormGroup"
      (ngSubmit)="signIn()"
      #loginForm="ngForm"
    >
  
      <label class="group margin-bottom">
        <span class="form-label">{{ 'LOGIN.EMAIL' | transloco }}</span>
        <input class="form-control" type="email" formControlName="email" [placeholder]="'LOGIN.EMAIL_PLACEHOLDER' | transloco">
      </label>
  
      <label class="group margin-bottom">
        <span class="form-label">{{ 'LOGIN.PASSWORD' | transloco }}</span>
        <input class="form-control" type="password" formControlName="password" [placeholder]="'LOGIN.PASSWORD_PLACEHOLDER' | transloco">
      </label>
  
      <div class="action">
        <button class="button-primary" type="submit"
          [disabled]="!loginForm.form.valid || lockdown">{{ 'LOGIN.SUBMIT_TEXT' | transloco }}</button>
      </div>
  
    </form>
  
    <div class="foot">
      <button class="button-link" (click)="resetPassword()">{{ 'LOGIN.FORGOT' | transloco }}</button>
    </div>

  </div>

  <div class="providers">
    <div class="text">{{ 'LOGIN.SOCIAL_TEXT' | transloco }}</div>
    <button
      class="button-outline"
      *ngIf="authService.methodAllowedForGoogle"
      [disabled]="lockdown"
      (click)="signInWithPopupForGoogle()"
    >
      <img src="https://img.icons8.com/color/48/000000/google-logo.png"/>
      <span>Google</span>
    </button>
    <button
      class="button-outline"
      *ngIf="authService.methodAllowedForFacebook"
      [disabled]="lockdown"
      (click)="signInWithPopupForFacebook()"
    >
      <img src="https://img.icons8.com/color/48/000000/facebook-new.png"/>
      <span>Facebook</span>
    </button>
    <button
      class="button-outline"
      *ngIf="authService.methodAllowedForGithub"
      [disabled]="lockdown"
      (click)="signInWithPopupForGithub()"
    >
      <img src="https://img.icons8.com/fluent/48/000000/github.png"/>
      <span>Github</span>
    </button>
    <p>
      <a href="/register" (click)="goRegister.emit(); false;">{{ 'REGISTER.SUBMIT_TEXT' | transloco }}?</a>
    </p>
  </div>

</div>
