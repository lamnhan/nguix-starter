<ng-container *transloco="let t">
  <div class="host" [class.show]="!!file">
  
    <div class="head">
      <div class="left">Edit Avatar</div>
      <div class="right">
        <a href="javascript:void(0)" (click)="closeAndReset()">Cancel</a>
      </div>
    </div>
  
    <div class="body">
      <ng-container *ngIf="fileDataUrl">
        <nguix-image-cropper
          [url]="fileDataUrl"
          [options]="cropperOptions"
          [resultOptions]="cropperResultOptions"
          (change)="cropResult=$event"
        ></nguix-image-cropper>
      </ng-container>
    </div>
  
    <div class="foot">
      <div class="left">
        <ng-container *ngIf="uploading">
          <progress [value]="uploading.uploadPercent$ | async" max="100"></progress>
        </ng-container>
      </div>
      <div class="right">
        <button
          class="button-primary"
          [disabled]="!cropResult || isProcessing || uploading"
          (click)="processAvatar()"
        >Change</button>
      </div>
    </div>
  
  </div>
  </ng-container>