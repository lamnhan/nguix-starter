<ng-container *transloco="let t">
  <div id="cover-editor" class="host" [class.show]="!!file">

    <div class="body">
      <ng-container *ngIf="fileDataUrl">
        <nguix-image-cropper
          [url]="fileDataUrl"
          [options]="cropperOptions"
          [resultOptions]="cropperResultOptions"
          [noFrame]="true"
          (change)="cropResult=$event"
        ></nguix-image-cropper>
      </ng-container>
    </div>
  
    <div class="foot">
      <div class="left">
        <ng-container *ngIf="uploading">
          <progress [value]="uploading.uploadPercent$ | async" max="100"></progress>
        </ng-container>
      </div>
      <div class="right">
        <button
          class="button-foreground-sm"
          [disabled]="isProcessing || uploading"
          (click)="closeAndReset()"
        >Cancel</button>
        <button
          class="button-primary-sm"
          [disabled]="!cropResult || isProcessing || uploading"
          (click)="processCover()"
        >Change</button>
      </div>
    </div>
  
  </div>
  </ng-container>