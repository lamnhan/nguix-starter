<ng-container *transloco="let t">
<div class="host" [class.show]="!!callerId">

  <div class="head">
    <div class="left">Upload</div>
    <div class="right">
      <a href="javascript:void(0)" (click)="closeAndReset()">X</a>
    </div>
  </div>

  <div class="body">

    <div class="cropper" [style.display]="fileLoaded?'block':'none'">
      <div id="croppie-image-editor"></div>
    </div>
    
    <div *ngIf="!fileLoaded">
      <input type="file" (change)="fileSelected($event)">
    </div>

  </div>

  <div class="foot">
    <div class="left">
      <ng-container *ngIf="uploading">
        <progress [value]="uploading.uploadPercent$ | async" max="100"></progress>
      </ng-container>
    </div>
    <div class="right">
      <button
        class="button-primary"
        [disabled]="!croppie || uploading"
        (click)="doneCropping()"
      >Done</button>
    </div>
  </div>

</div>
</ng-container>